---
import BaseLayout from '../layouts/BaseLayout.astro';
import Container from '../components/Container.astro';
import Card from '../components/Card.astro';
import TextInput from '../components/TextInput.astro';
import TextArea from '../components/TextArea.astro';
import Select from '../components/Select.astro';
import Button from '../components/Button.astro';
import { CONTACT } from '../lib/config';
---

<BaseLayout
  title="Contact Us"
  description="Get in touch with Acupuncture & Holistic Health Associates. Schedule an appointment, ask questions, or learn more about our services. Located in Milwaukee, WI."
>
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-br from-sage-50 to-warm-white py-16 md:py-20">
    <Container>
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-charcoal mb-6">
          Get In Touch
        </h1>
        <p class="text-lg md:text-xl text-gray-600 leading-relaxed">
          We're here to help you on your journey to better health. Reach out to schedule an appointment or ask any questions you may have.
        </p>
      </div>
    </Container>
  </section>

  <!-- Contact Information & Form -->
  <section class="py-16 md:py-20 lg:py-24 bg-white">
    <Container>
      <div class="grid lg:grid-cols-3 gap-12">
        <!-- Contact Information -->
        <div class="lg:col-span-1 space-y-6">
          <div>
            <h2 class="text-2xl font-heading font-bold text-charcoal mb-6">
              Contact Information
            </h2>
          </div>

          <Card variant="elevated" padding="md">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-sage-100 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-charcoal mb-2">Visit Us</h3>
                <p class="text-gray-600 text-sm">
                  Bayshore Town Center<br>
                  {CONTACT.address.street}<br>
                  {CONTACT.address.city}, {CONTACT.address.state} {CONTACT.address.zip}
                </p>
              </div>
            </div>
          </Card>

          <Card variant="elevated" padding="md">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-sage-100 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-charcoal mb-2">Call Us</h3>
                <a href="tel:+14143328888" class="text-sage-600 hover:text-sage-700 font-medium">
                  (414) 332-8888
                </a>
                <p class="text-gray-600 text-sm mt-1">
                  Mon-Thu: 9:00 AM - 6:00 PM
                </p>
              </div>
            </div>
          </Card>

          <Card variant="elevated" padding="md">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-sage-100 flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-charcoal mb-2">Email Us</h3>
                <a href="mailto:info@holisticacupuncture.net" class="text-sage-600 hover:text-sage-700 font-medium break-all">
                  info@holisticacupuncture.net
                </a>
                <p class="text-gray-600 text-sm mt-1">
                  We'll respond within 24 hours
                </p>
              </div>
            </div>
          </Card>

          <Card variant="bordered" padding="md" class="bg-sage-50">
            <h3 class="font-semibold text-charcoal mb-3">Office Hours</h3>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between">
                <span class="text-gray-600">Monday - Thursday:</span>
                <span class="font-medium text-charcoal">9:00 AM - 6:00 PM</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Friday:</span>
                <span class="font-medium text-charcoal">9:00 AM - 5:00 PM</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Saturday:</span>
                <span class="font-medium text-charcoal">By Appointment</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Sunday:</span>
                <span class="font-medium text-charcoal">Closed</span>
              </div>
            </div>
          </Card>
        </div>

        <!-- Contact Form -->
        <div class="lg:col-span-2">
          <Card variant="elevated" padding="lg">
            <h2 class="text-2xl font-heading font-bold text-charcoal mb-6">
              Send Us a Message
            </h2>

            <form
              class="space-y-6"
              id="contact-form"
              name="contact"
              method="POST"
              action="/api/contact"
            >
              <!-- Honeypot field for spam protection -->
              <div class="hidden" aria-hidden="true">
                <label>
                  Don't fill this out if you're human:
                  <input name="bot-field" />
                </label>
              </div>
              <div class="grid md:grid-cols-2 gap-6">
                <TextInput
                  id="firstName"
                  name="firstName"
                  label="First Name"
                  type="text"
                  placeholder="John"
                  required
                />

                <TextInput
                  id="lastName"
                  name="lastName"
                  label="Last Name"
                  type="text"
                  placeholder="Doe"
                  required
                />
              </div>

              <div class="grid md:grid-cols-2 gap-6">
                <TextInput
                  id="email"
                  name="email"
                  label="Email Address"
                  type="email"
                  placeholder="john.doe@example.com"
                  required
                  helpText="We'll never share your email"
                />

                <TextInput
                  id="phone"
                  name="phone"
                  label="Phone Number"
                  type="tel"
                  placeholder="(414) 555-1234"
                  helpText="Optional but helpful for scheduling"
                />
              </div>

              <Select
                id="reason"
                name="reason"
                label="Reason for Contact"
                options={[
                  { value: 'appointment', label: 'Schedule an Appointment' },
                  { value: 'question', label: 'General Question' },
                  { value: 'insurance', label: 'Insurance Question' },
                  { value: 'pricing', label: 'Pricing Information' },
                  { value: 'other', label: 'Other' },
                ]}
                required
              />

              <Select
                id="condition"
                name="condition"
                label="Primary Health Concern"
                placeholder="Select if applicable..."
                options={[
                  { value: 'pain', label: 'Chronic Pain' },
                  { value: 'headaches', label: 'Headaches/Migraines' },
                  { value: 'stress', label: 'Stress/Anxiety' },
                  { value: 'insomnia', label: 'Sleep Issues' },
                  { value: 'womens-health', label: 'Women\'s Health' },
                  { value: 'digestive', label: 'Digestive Issues' },
                  { value: 'allergies', label: 'Allergies' },
                  { value: 'other', label: 'Other' },
                ]}
              />

              <TextArea
                id="message"
                name="message"
                label="Message"
                placeholder="Tell us about your health concerns or questions..."
                rows={6}
                maxLength={5000}
                required
                helpText="Please provide any relevant details about your condition or questions"
              />

              <div class="flex items-start gap-3">
                <input
                  type="checkbox"
                  id="newsletter"
                  name="newsletter"
                  class="mt-1 w-4 h-4 rounded border-gray-400 text-sage-600 focus:ring-sage-500"
                />
                <label for="newsletter" class="text-sm text-gray-700">
                  I'd like to receive health tips and news from Acupuncture & Holistic Health Associates
                </label>
              </div>

              <div class="pt-4">
                <Button type="submit" variant="primary" size="lg" fullWidth icon="calendar">
                  Send Message
                </Button>
                <p class="text-xs text-gray-600 mt-3 text-center">
                  By submitting this form, you agree to our <a href="/privacy" class="text-sage-600 hover:text-sage-700">Privacy Policy</a>
                </p>
              </div>
            </form>

            <!-- Loading State (hidden by default) -->
            <div id="loading-message" class="hidden mt-6 p-4 bg-sage-50 border border-sage-200 rounded-[var(--radius-md)]">
              <div class="flex items-center gap-3">
                <svg class="w-6 h-6 text-sage-600 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                </svg>
                <div>
                  <p class="font-medium text-gray-700">Sending your message...</p>
                </div>
              </div>
            </div>

            <!-- Success Message (hidden by default) -->
            <div id="success-message" class="hidden mt-6 p-4 bg-success/10 border border-success rounded-[var(--radius-md)]">
              <div class="flex items-center gap-3">
                <svg class="w-6 h-6 text-success flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <div>
                  <h3 class="font-semibold text-success">Message Sent Successfully!</h3>
                  <p class="text-sm text-gray-700 mt-1">We'll get back to you within 24 hours.</p>
                </div>
              </div>
            </div>

            <!-- Error Message (hidden by default) -->
            <div id="error-message" class="hidden mt-6 p-4 bg-error/10 border border-error rounded-[var(--radius-md)]">
              <div class="flex items-center gap-3">
                <svg class="w-6 h-6 text-error flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                </svg>
                <div>
                  <h3 class="font-semibold text-error">Failed to Send Message</h3>
                  <p class="text-sm text-gray-700 mt-1">Please try again or call us at {CONTACT.phone}.</p>
                </div>
              </div>
            </div>
          </Card>
        </div>
      </div>
    </Container>
  </section>

  <!-- Map Section -->
  <section class="py-16 md:py-20 lg:py-24 bg-sage-50">
    <Container>
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-charcoal mb-4">
          Find Us at Bayshore Town Center
        </h2>
        <p class="text-lg text-gray-600">
          Conveniently located in Glendale with easy parking and accessibility
        </p>
      </div>

      <div class="aspect-video w-full rounded-[var(--radius-xl)] overflow-hidden shadow-lg">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2995.3964896473446!2d-87.88892092346616!3d43.145805471123854!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8805197e66c70001%3A0x5b1b1d8db6b8d8d8!2s5800%20N%20Bayshore%20Dr%2C%20Glendale%2C%20WI%2053217!5e0!3m2!1sen!2sus!4v1704815640000!5m2!1sen!2sus"
          width="100%"
          height="100%"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="Acupuncture & Holistic Health Associates Location"
        ></iframe>
      </div>

      <div class="mt-8 text-center">
        <a
          href="https://www.google.com/maps/dir/?api=1&destination=5800+N+Bayshore+Dr+Glendale+WI+53217"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 text-sage-600 hover:text-sage-700 font-semibold transition-colors"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
          </svg>
          <span>Get Directions on Google Maps</span>
        </a>
      </div>
    </Container>
  </section>

  <!-- Parking & Accessibility -->
  <section class="py-16 md:py-20 lg:py-24 bg-white">
    <Container>
      <div class="grid md:grid-cols-3 gap-8">
        <Card variant="bordered" padding="lg" class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-sage-100 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-charcoal mb-2">Free Parking</h3>
          <p class="text-gray-600 text-sm">
            Ample free parking available at Bayshore Town Center
          </p>
        </Card>

        <Card variant="bordered" padding="lg" class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-sage-100 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-charcoal mb-2">Fully Accessible</h3>
          <p class="text-gray-600 text-sm">
            Wheelchair accessible entrance and treatment rooms
          </p>
        </Card>

        <Card variant="bordered" padding="lg" class="text-center">
          <div class="w-16 h-16 mx-auto mb-4 bg-sage-100 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-sage-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-charcoal mb-2">Flexible Hours</h3>
          <p class="text-gray-600 text-sm">
            Morning, afternoon, and evening appointments available
          </p>
        </Card>
      </div>
    </Container>
  </section>
</BaseLayout>

<script>
  // Form handling with loading, validation, and error states
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const loadingMessage = document.getElementById('loading-message');
  const successMessage = document.getElementById('success-message');
  const errorMessage = document.getElementById('error-message');
  const submitButton = form?.querySelector('button[type="submit"]') as HTMLButtonElement;

  // Validation patterns
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  const phoneRegex = /^[\d\s\-\(\)\+\.]*$/;

  // Helper to show field error
  function showFieldError(fieldId: string, message: string) {
    const field = document.getElementById(fieldId) as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;
    const errorEl = document.getElementById(`${fieldId}-error`);

    if (field) {
      field.classList.add('border-red-500', 'focus:border-red-500');
      field.classList.remove('border-gray-400', 'focus:border-sage-500');
      field.setAttribute('aria-invalid', 'true');
    }

    // Create error message if it doesn't exist
    if (!errorEl && field) {
      const error = document.createElement('div');
      error.id = `${fieldId}-error`;
      error.className = 'flex items-center gap-2 text-sm text-red-600 mt-1';
      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('class', 'w-4 h-4 flex-shrink-0');
      svg.setAttribute('fill', 'currentColor');
      svg.setAttribute('viewBox', '0 0 20 20');
      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      path.setAttribute('fill-rule', 'evenodd');
      path.setAttribute('d', 'M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z');
      path.setAttribute('clip-rule', 'evenodd');
      svg.appendChild(path);
      const span = document.createElement('span');
      span.textContent = message;
      error.appendChild(svg);
      error.appendChild(span);
      field.parentElement?.appendChild(error);
    } else if (errorEl) {
      const span = errorEl.querySelector('span');
      if (span) span.textContent = message;
      errorEl.classList.remove('hidden');
    }
  }

  // Helper to clear field error
  function clearFieldError(fieldId: string) {
    const field = document.getElementById(fieldId) as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;
    const errorEl = document.getElementById(`${fieldId}-error`);

    if (field) {
      field.classList.remove('border-red-500', 'focus:border-red-500');
      field.classList.add('border-gray-400', 'focus:border-sage-500');
      field.setAttribute('aria-invalid', 'false');
    }

    if (errorEl) {
      errorEl.remove();
    }
  }

  // Clear all errors
  function clearAllErrors() {
    ['firstName', 'lastName', 'email', 'phone', 'reason', 'message'].forEach(clearFieldError);
  }

  // Real-time validation on blur
  const emailField = document.getElementById('email') as HTMLInputElement;
  const phoneField = document.getElementById('phone') as HTMLInputElement;

  emailField?.addEventListener('blur', () => {
    const value = emailField.value.trim();
    if (value && !emailRegex.test(value)) {
      showFieldError('email', 'Please enter a valid email address');
    } else {
      clearFieldError('email');
    }
  });

  phoneField?.addEventListener('blur', () => {
    const value = phoneField.value.trim();
    if (value && !phoneRegex.test(value)) {
      showFieldError('phone', 'Please enter a valid phone number');
    } else {
      clearFieldError('phone');
    }
  });

  // Clear errors on input
  ['firstName', 'lastName', 'email', 'phone', 'reason', 'message'].forEach(fieldId => {
    const field = document.getElementById(fieldId);
    field?.addEventListener('input', () => clearFieldError(fieldId));
  });

  if (form && loadingMessage && successMessage && errorMessage && submitButton) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      clearAllErrors();

      // Check honeypot
      const honeypot = (form.querySelector('input[name="bot-field"]') as HTMLInputElement)?.value;
      if (honeypot) {
        // Likely a bot, silently fail
        return;
      }

      // Get form data
      const formData = new FormData(form);
      const firstName = (formData.get('firstName') as string)?.trim();
      const lastName = (formData.get('lastName') as string)?.trim();
      const email = (formData.get('email') as string)?.trim();
      const phone = (formData.get('phone') as string)?.trim();
      const reason = formData.get('reason') as string;
      const message = (formData.get('message') as string)?.trim();

      // Client-side validation
      let hasErrors = false;

      if (!firstName) {
        showFieldError('firstName', 'First name is required');
        hasErrors = true;
      }

      if (!lastName) {
        showFieldError('lastName', 'Last name is required');
        hasErrors = true;
      }

      if (!email) {
        showFieldError('email', 'Email is required');
        hasErrors = true;
      } else if (!emailRegex.test(email)) {
        showFieldError('email', 'Please enter a valid email address');
        hasErrors = true;
      }

      if (phone && !phoneRegex.test(phone)) {
        showFieldError('phone', 'Please enter a valid phone number');
        hasErrors = true;
      }

      if (!reason) {
        showFieldError('reason', 'Please select a reason for contact');
        hasErrors = true;
      }

      if (!message) {
        showFieldError('message', 'Please enter a message');
        hasErrors = true;
      }

      if (hasErrors) {
        // Focus first error field
        const firstError = form.querySelector('[aria-invalid="true"]') as HTMLElement;
        firstError?.focus();
        return;
      }

      try {
        // Show loading state
        submitButton.disabled = true;
        const originalHTML = submitButton.innerHTML;
        submitButton.innerHTML = `
          <svg class="animate-spin -ml-1 mr-2 h-5 w-5 inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          Sending...
        `;
        loadingMessage.classList.remove('hidden');
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');

        // Combine first and last name
        const name = `${firstName} ${lastName}`;

        // Prepare data for API
        const data = {
          name: name,
          email: email,
          phone: phone || null,
          message: `Reason: ${reason}\nCondition: ${formData.get('condition') || 'Not specified'}\n\n${message}`,
        };

        // Submit to API
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });

        const result = await response.json();

        if (response.ok && result.success) {
          // Track successful submission
          if (typeof (window as any).gtag === 'function') {
            (window as any).gtag('event', 'generate_lead', {
              form_name: 'contact',
              contact_reason: reason || 'general',
            });
          }

          // Show success
          form.classList.add('hidden');
          loadingMessage.classList.add('hidden');
          successMessage.classList.remove('hidden');
          successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });

          // If newsletter checkbox was checked, handle that too
          const newsletter = formData.get('newsletter');
          if (newsletter === 'on') {
            await fetch('/api/newsletter', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({ email }),
            });

            // Track newsletter signup
            if (typeof (window as any).gtag === 'function') {
              (window as any).gtag('event', 'newsletter_signup', {
                form_name: 'newsletter',
                source: 'contact_form',
              });
            }
          }

        } else {
          throw new Error(result.error || 'Failed to submit form');
        }

      } catch (error) {
        console.error('Form submission error:', error);

        // Show error
        loadingMessage.classList.add('hidden');
        errorMessage.classList.remove('hidden');
        submitButton.disabled = false;
        submitButton.innerHTML = `
          <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
          Send Message
        `;
        errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    });
  }
</script>
